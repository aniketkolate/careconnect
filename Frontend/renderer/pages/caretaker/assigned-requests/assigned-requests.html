<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>CareConnect – Assigned Requests</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="assigned-requests.css">
</head>

<body>

  <!-- Sidebar -->
  <div class="sidebar">
    <div class="logo-wrap">
      <div class="logo">CareConnect</div>
      <div class="logo-sub">Care Taker Dashboard</div>
    </div>
    <div class="nav">
      <a href="../dashboard/dashboard.html">Dashboard</a>
      <a class="active" href="#">Assigned Requests</a>
      <a href="../availability/availability.html">Availability</a>
      <a href="../profile/profile.html">Profile</a>
    </div>
    <div class="logout" onclick="logout()">Logout</div>

  </div>

  <!-- Main -->
  <div class="main">

    <div class="header">
      <h2>Assigned Requests</h2>
    </div>

    <div class="card">

      <div class="tabs">
        <div class="tab active" data-tab="pending">Pending</div>
        <div class="tab" data-tab="ongoing">Ongoing</div>
        <div class="tab" data-tab="completed">Completed</div>
      </div>

      <table class="request-table">
        <colgroup>
          <col class="col-name">
          <col class="col-type">
          <col class="col-duration">
          <col class="col-payment"> 
          <col class="col-action">
        </colgroup>

        <thead>
          <tr>
            <th>Care Seeker</th>
            <th>Care Type</th>
            <th>Duration</th>
            <th>Payment</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody id="tableBody"></tbody>
      </table>

    </div>
  </div>

  <!-- View Care Request Modal -->
  <div id="viewModal" class="modal-overlay">
    <div class="modal-card">
      <div class="modal-header">
        <h3>Care Request Details</h3>
        <span class="modal-close" onclick="closeViewModal()">×</span>
      </div>

      <div class="modal-body">
        <div class="detail-row">
          <span class="label">Care Seeker</span>
          <span id="modalSeeker"></span>
        </div>

        <div class="detail-row">
          <span class="label">Care Type</span>
          <span id="modalType"></span>
        </div>

        <div class="detail-row">
          <span class="label">Start Time</span>
          <span id="modalStart"></span>
        </div>

        <div class="detail-row">
          <span class="label">End Time</span>
          <span id="modalEnd"></span>
        </div>

        <div class="detail-row">
          <span class="label">Status</span>
          <span id="modalStatus" class="status-pill"></span>
        </div>
      </div>

      <div class="modal-footer">
        <button class="btn btn-cancel" onclick="closeViewModal()">Close</button>
      </div>
    </div>
  </div>

  <!-- Complete Assignment Modal -->
  <div id="completeModal" class="modal-overlay" style="display:none;">
    <div class="modal-card">
      <h3>Complete Care Request</h3>
      <p class="modal-subtitle">
        Enter the amount to request from the care seeker
      </p>
      <div class="input-group"> <span class="currency">₹</span>
        <input type="text" id="completeAmount" placeholder="Enter amount" inputmode="numeric" pattern="[0-9]*" />
      </div>
      <div class="modal-actions"> <button class="btn btn-cancel" onclick="closeCompleteModal()">Cancel</button> <button
          class="btn btn-success" onclick="markAsComplete()">Mark as Complete</button> </div>
    </div>
  </div>

  <script src="../../../js/api.js"></script>
  <script src="./assigned-requests.js"></script>
  <script src="../../../js/toast.js"></script>

</body>

</html>